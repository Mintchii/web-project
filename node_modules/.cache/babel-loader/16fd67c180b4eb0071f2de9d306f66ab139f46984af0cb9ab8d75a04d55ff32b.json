{"ast":null,"code":"import * as React from 'react';\nimport { getWindow } from '@fluentui/utilities';\nimport { useOnEvent } from '@fluentui/react-hooks';\nimport { getResponsiveMode, getInitialResponsiveMode } from '../decorators/withResponsiveMode';\nimport { useWindow } from '../../WindowProvider';\n/**\n * Hook to get the current responsive mode (window size category).\n * @param elementRef - Use this element's parent window when determining the responsive mode.\n * @param overrideResponsiveMode - Override the responsive mode. If this param is present, it's always returned.\n */\nexport var useResponsiveMode = function (elementRef, overrideResponsiveMode) {\n  var _a = React.useState(getInitialResponsiveMode()),\n    lastResponsiveMode = _a[0],\n    setLastResponsiveMode = _a[1];\n  var onResize = React.useCallback(function () {\n    var newResponsiveMode = getResponsiveMode(getWindow(elementRef.current));\n    // Setting the same value should not cause a re-render.\n    if (lastResponsiveMode !== newResponsiveMode) {\n      setLastResponsiveMode(newResponsiveMode);\n    }\n  }, [elementRef, lastResponsiveMode]);\n  var win = useWindow();\n  useOnEvent(win, 'resize', onResize);\n  // Call resize function initially on mount, or if the override changes from defined to undefined\n  // (the effect will run on all override changes, but onResize will only be called if it changed to undefined)\n  React.useEffect(function () {\n    if (overrideResponsiveMode === undefined) {\n      onResize();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- only meant to run on mount or when override changes\n  }, [overrideResponsiveMode]);\n  return overrideResponsiveMode !== null && overrideResponsiveMode !== void 0 ? overrideResponsiveMode : lastResponsiveMode;\n};","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,SAAS,QAAQ,qBAAqB;AAC/C,SAASC,UAAU,QAAQ,uBAAuB;AAClD,SAAyBC,iBAAiB,EAAEC,wBAAwB,QAAQ,kCAAkC;AAC9G,SAASC,SAAS,QAAQ,sBAAsB;AAEhD;;;;;AAKA,OAAO,IAAMC,iBAAiB,GAAG,UAC/BC,UAA+C,EAC/CC,sBAAuC;EAEjC,SAA8CR,KAAK,CAACS,QAAQ,CAAiBL,wBAAwB,EAAE,CAAC;IAAvGM,kBAAkB;IAAEC,qBAAqB,QAA8D;EAE9G,IAAMC,QAAQ,GAAGZ,KAAK,CAACa,WAAW,CAAC;IACjC,IAAMC,iBAAiB,GAAGX,iBAAiB,CAACF,SAAS,CAACM,UAAU,CAACQ,OAAO,CAAC,CAAC;IAE1E;IACA,IAAIL,kBAAkB,KAAKI,iBAAiB,EAAE;MAC5CH,qBAAqB,CAACG,iBAAiB,CAAC;;EAE5C,CAAC,EAAE,CAACP,UAAU,EAAEG,kBAAkB,CAAC,CAAC;EAEpC,IAAMM,GAAG,GAAGX,SAAS,EAAE;EACvBH,UAAU,CAACc,GAAG,EAAE,QAAQ,EAAEJ,QAAQ,CAAC;EAEnC;EACA;EACAZ,KAAK,CAACiB,SAAS,CAAC;IACd,IAAIT,sBAAsB,KAAKU,SAAS,EAAE;MACxCN,QAAQ,EAAE;;IAEZ;EACF,CAAC,EAAE,CAACJ,sBAAsB,CAAC,CAAC;EAE5B,OAAOA,sBAAsB,aAAtBA,sBAAsB,cAAtBA,sBAAsB,GAAIE,kBAAkB;AACrD,CAAC","names":["React","getWindow","useOnEvent","getResponsiveMode","getInitialResponsiveMode","useWindow","useResponsiveMode","elementRef","overrideResponsiveMode","useState","lastResponsiveMode","setLastResponsiveMode","onResize","useCallback","newResponsiveMode","current","win","useEffect","undefined"],"sources":["C:\\Users\\hpryz\\Documents\\_Programming\\web-project\\node_modules\\@fluentui\\react\\lib\\utilities\\src\\utilities\\hooks\\useResponsiveMode.tsx"],"sourcesContent":["import * as React from 'react';\nimport { getWindow } from '@fluentui/utilities';\nimport { useOnEvent } from '@fluentui/react-hooks';\nimport { ResponsiveMode, getResponsiveMode, getInitialResponsiveMode } from '../decorators/withResponsiveMode';\nimport { useWindow } from '../../WindowProvider';\n\n/**\n * Hook to get the current responsive mode (window size category).\n * @param elementRef - Use this element's parent window when determining the responsive mode.\n * @param overrideResponsiveMode - Override the responsive mode. If this param is present, it's always returned.\n */\nexport const useResponsiveMode = (\n  elementRef: React.RefObject<HTMLElement | null>,\n  overrideResponsiveMode?: ResponsiveMode,\n) => {\n  const [lastResponsiveMode, setLastResponsiveMode] = React.useState<ResponsiveMode>(getInitialResponsiveMode());\n\n  const onResize = React.useCallback(() => {\n    const newResponsiveMode = getResponsiveMode(getWindow(elementRef.current));\n\n    // Setting the same value should not cause a re-render.\n    if (lastResponsiveMode !== newResponsiveMode) {\n      setLastResponsiveMode(newResponsiveMode);\n    }\n  }, [elementRef, lastResponsiveMode]);\n\n  const win = useWindow();\n  useOnEvent(win, 'resize', onResize);\n\n  // Call resize function initially on mount, or if the override changes from defined to undefined\n  // (the effect will run on all override changes, but onResize will only be called if it changed to undefined)\n  React.useEffect(() => {\n    if (overrideResponsiveMode === undefined) {\n      onResize();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- only meant to run on mount or when override changes\n  }, [overrideResponsiveMode]);\n\n  return overrideResponsiveMode ?? lastResponsiveMode;\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}